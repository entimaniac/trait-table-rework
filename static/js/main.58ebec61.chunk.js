(this["webpackJsonpspot-upload-table-rework"]=this["webpackJsonpspot-upload-table-rework"]||[]).push([[0],{48:function(e,t,a){},68:function(e,t,a){e.exports=a(80)},73:function(e,t,a){},74:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},75:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l),i=(a(73),a(74),a(75),a(43)),s=a(32),c=a(33),u=a(40),d=a(38),m=(a(48),a(109)),p=a(52),h=a.n(p),f=a(53),E=a.n(f),v=a(41),g=a(117),w=a(54),y=a.n(w),b=a(121),R=a(122),S=a(115),O=a(120),C=a(123),N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).types=["TURNKEY","DATA ENRICHMENT","CUSTOM","HEALTH","CLIENT"],e.handleInputChange=function(t){e.props.editField(e.props.data.id,t.target.name,t.target.value)},e}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this;return this.props.data.loading?e=r.a.createElement(m.a,null):this.props.data.submitted&&(e=this.props.data.success?r.a.createElement(h.a,{style:{color:v.a[500]}}):r.a.createElement(E.a,{color:"error"})),r.a.createElement("tr",null,r.a.createElement("td",{className:"icon-cell"},e),r.a.createElement("td",null,r.a.createElement(b.a,{name:"name",label:"Name",value:this.props.data.name,onChange:function(e){return t.handleInputChange(e)}})),r.a.createElement("td",null,r.a.createElement(S.a,null,r.a.createElement(R.a,null,"Type"),r.a.createElement(O.a,{style:{width:150},labelWidth:10,name:"type",value:this.props.data.type,onChange:function(e){return t.handleInputChange(e)}},this.types.map((function(e,t){return r.a.createElement(C.a,{key:t,value:e},e)}))))),r.a.createElement("td",null,r.a.createElement(b.a,{name:"sid",label:"SID",value:this.props.data.sid,onChange:function(e){return t.handleInputChange(e)}})),r.a.createElement("td",null,r.a.createElement(b.a,{name:"provider",label:"Provider",value:this.props.data.provider,onChange:function(e){return t.handleInputChange(e)}})),r.a.createElement("td",null,r.a.createElement(b.a,{name:"source",label:"Source",value:this.props.data.source,onChange:function(e){return t.handleInputChange(e)}})),r.a.createElement("td",null,r.a.createElement(g.a,{"aria-label":"delete",onClick:function(){return t.props.remove(t.props.data.id)},disabled:this.props.data.submitted},r.a.createElement(y.a,null))))}}]),a}(r.a.Component),k=a(55),I=a.n(k),J=a(56),j=a.n(J),T=a(118),x=a(119),A=a(116),H=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).fileHeaders=["NAME","TYPE","SID","PROVIDER","SOURCE"],n.defaultRow={name:"",type:"",sid:"",provider:"",source:""},n.fileUpload=function(e){var t=e.target.files[0];I.a.parse(t,{header:!0,complete:function(e){var t,a=n.state.index,r=Object(i.a)(e.data);try{for(r.s();!(t=r.n()).done;){var l=t.value;l.type=l.type.trim(),l.id=a++}}catch(o){r.e(o)}finally{r.f()}n.setState({index:a}),n.setState({traitRows:e.data}),console.log(n.state)}})},n.addRow=function(){var e=JSON.parse(JSON.stringify(n.state.traitRows)),t=JSON.parse(JSON.stringify(n.defaultRow));t.id=n.state.index,e.push(t),n.setState({traitRows:e}),n.setState({index:n.state.index+1})},n.removeRow=function(e){var t=JSON.parse(JSON.stringify(n.state.traitRows)).filter((function(t){return t.id!==e}));n.setState({traitRows:t})},n.editRow=function(e,t,a){var r=JSON.parse(JSON.stringify(n.state.traitRows));r.find((function(n,l){return n.id===e&&(r[l][t]=a,!0)})),n.setState({traitRows:r})},n.submit=function(){var e,t=JSON.parse(JSON.stringify(n.state.traitRows)),a=!1,r=Object(i.a)(t);try{var l=function(){var r=e.value;r.uploaded||(r.loading=!0,n.setState({traitRows:t}),n.sleep(1e3).then((function(){r.loading=!1,r.uploaded=!0,r.submitted=!0,r.success=a,a=!a,console.log(r),n.setState({traitRows:t})})))};for(r.s();!(e=r.n()).done;)l()}catch(o){r.e(o)}finally{r.f()}},n.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},n.state={traitRows:[],index:0},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(A.a,{className:"paper-container"},r.a.createElement(T.a,{variant:"contained",component:"label"},"Choose File",r.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.fileUpload})),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"hide-this"},r.a.createElement(m.a,null)),this.fileHeaders.map((function(e,t){return r.a.createElement("th",{key:t},e)})),r.a.createElement("th",{className:"hide-this"},r.a.createElement(m.a,null))),this.state.traitRows.map((function(t,a){return r.a.createElement(N,{key:t.id,data:t,editField:e.editRow,remove:e.removeRow})})),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",{colSpan:this.fileHeaders.length},r.a.createElement(T.a,{className:"add-row-button",variant:"contained",color:"default",onClick:this.addRow},r.a.createElement(j.a,null))),r.a.createElement("td",null)))),r.a.createElement(x.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(T.a,{variant:"contained",color:"primary",onClick:this.submit},"submit")))}}]),a}(r.a.Component);var U=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(H,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[68,1,2]]]);
//# sourceMappingURL=main.58ebec61.chunk.js.map